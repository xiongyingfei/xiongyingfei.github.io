<?xml version="1.0" encoding="UTF-8"?><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><title>SyncATL: An ATL-based Synchronization Tool</title></head><body><TABLE width="100%"><TR><TD><H1>SyncATL: An ATL-based Synchronization Tool</H1></TD><TD VALIGN="top"><!-- 		<p><a href="index.html">Home</a></p> --></TD></TR></TABLE><ul><li><a href="#news">News</a></li><li><a href="#introduction">Introduction</a></li><li><a href="#people">People</a></li><li><a href="#publications">Publications</a></li><li><a href="#download">Download</a></li><li><a href="#guide">A Guide to the Samples</a></li><li><a href="#internal">How the Tool Works</a></li><ul><li><a href="#keyAttribute">Key Attributes</a></li></ul><li><a href="#usage">Detailed Usage</a></li><ul><li><a href="#transformation">Transformation Mode</a></li></ul><ul><li><a href="#synchronization">Synchronization Mode</a></li></ul><li><a href="#limitations">Limitations</a></li><li><a href="#otherlanguage">Support of Other Transformation Languages</a></li><li><a href="#contact">Contact</a></li></ul><h2 id="news">News</h2><UL><li><b>November 11, 2008</b> Our ATL-based synchronization tool has been named as SyncATL.</li><li><b>October 10, 2007</b> Our paper is accepted by ASE 2007!</li></UL><h2 id="introduction">Introduction</h2><p>SyncATL is a tool for synchronization <a href="http://www.eclipse.org/modeling/emf/">Ecore</a> models related by an <a href="http://www.eclipse.org/m2m/atl/">ATL</a> byte-code program.</p><p>By using ATL, we can transform models in one metamodel into models in another metamodel. However, there are situations where only transformation from one model to another is not enough. Users may change models after the transformation in both the source side and
the target side, causing maintenance problems. Consider the following scenario: first designers create a Unified Modeling Language (UML) model to describe the system design, and then perform a model transformation on the UML model to produce a Java model for programmers to implement the system. Programmers add code and methods to the Java model, while at the same time, designers change
the name of a class on the UML model. Now the UML model and the Java model become inconsistent and need to be synchronized. Simply performing the transformation from UML model to Java model again will not synchronize the models, because the modifications on the Java model will be lost. To synchronize the models, we need to propagate the modifications both from the UML model to the Java model and from the Java model to the UML model.</p><p>SyncATL is just for this purpose. Given a modified source model and a modified target model, together with the original source model and the ATL transformation, SyncATL can produce the synchronized source model and the synchronized target model with the modifications propagated across models. </p><p> The current implementation of SyncATL is mainly served as a demonstration and an evaluation of the approach we proposed in our <a href="#ASE07">ASE07</a> paper, and is not stable enough for serious use.</p><h2 id="people">People</h2><TABLE><TR><TD><a href="http://sei.pku.edu.cn/~hu/">Zhenjiang Hu</a></TD><TD>Associate Professor at the University of Tokyo</TD></TR><TR><TD><a href="http://people.csiro.au/L/D/Dongxi-Liu/">Dongxi Liu</a></TD><TD>Researcher at the University of Tokyo</TD></TR><TR><TD><a href="http://sei.pku.edu.cn/~meih/index_en.html">Hong Mei</a></TD><TD>Professor at Peking University</TD></TR><TR><TD><a href="http://sei.pku.edu.cn/~songhui06/">Hui Song</a></TD><TD>Ph.D. Student at Peking University</TD></TR><TR><TD><a href="http://takeichimasato.net/">Masato Takeichi</a></TD><TD>Professor at the University of Tokyo</TD></TR><TR><TD><a href="http://sei.pku.edu.cn/~xiongyf04/">Yingfei Xiong</a></TD><TD>Ph.D Student at the University of Tokyo</TD></TR><TR><TD><a href="http://www.sei.pku.edu.cn/~zhhy/">Haiyan Zhao</a></TD><TD>Associate Professor at Peking University</TD></TR></TABLE><h2 id="publications">Publications</h2><p id="ASE07"><span><td valign="top" width="110" id="ASE07">[ASE07] </td><td valign="top"><a href="http://sei.pku.edu.cn/~xiongyf04/">Yingfei Xiong</a>, <a href="http://people.csiro.au/L/D/Dongxi-Liu/">Dongxi Liu</a>, <a href="http://sei.pku.edu.cn/~hu/">Zhenjiang Hu</a>, <a href="http://www.sei.pku.edu.cn/~zhhy/">Haiyan Zhao</a>, <a href="http://takeichimasato.net/">Masato Takeichi</a>, <a href="http://sei.pku.edu.cn/~meih/index_en.html">Hong Mei</a>. 
	<b>Towards Automatic Model Synchronization from Model Transformations</b>. 
	In ASE'07: Proceedings of the 22nd IEEE/ACM International Conference on Automated Software Engineering, Atlanta, Georgia, pages 164-173, 
	November 2007.
	<span>[<a href="papers/ASE07.pdf">Paper</a>]</span><span>[<a href="papers/ASE07.ppt">Slides</a>]</span><span>[<a href="papers/ASE07.bib">Bib</a>]</span></td></span></p><h2 id="download">Download</h2><p><B>Prerequirement</B>: JRE 1.5 ( not work with JRE 1.6 ) </p><p><B>Download</B>: 
<ul><li><a href="res/SyncATL.zip">Executable with examples</a>. (released Sep. 28th, 2007)</li><li><a href="res/SyncATL.src.zip">Source code</a>. (released Nov. 28th, 2008)</li></ul></p><p>To install, just unzip the package into any directory you like.</p><h2 id="guide">A Guide to the Samples</h2><p>The current release is shipped with five samples. The "UML2Java" is the running example used in the <a href="#ASE07">ASE07</a> paper, the "Class2Relational" is the case study presented in the <a href="#ASE07">ASE07</a> paper, and other examples are obtained from <a href="http://www.eclipse.org/m2m/atl/atlTransformations/">the ATL website</a>.</p><p>To use the scripts for the examples, you must be under Windows. It should work on other operation system by making small modifications to the scripts, but I have not tested it.</p><p>The steps for trying out a sample is as the following</p><ol><li>Make the directory of the sample the current directory of the system.</li><li>Run "transform.bat" to perform the original transformation. This file also create <font face="verdana">"*-modified.*"</font> files for users to make modifications.</li><li>Modify the <font face="verdana">"*-modified.*"</font> files.</li><li>Run "synchronize.bat" and the tool will produce the synchronized models, <font face="verdana">"*-synchronized.*"</font>.</li><li>After you have finished the test, run "clear.bat" to delete the files created during the process.</li></ol><h2 id="internal">How the Tool Works</h2><IMG SRC="pics/Synchronization.gif" WIDTH="600" HEIGHT="450" BORDER="0" ALT=""/><p>As shown in the above figure, SyncATL synchronize models (conceptually) using the following steps:</p><OL><LI>SyncATL executes the original transformation to produce the original target model.</LI><LI>SyncATL compares the original source model with the modified source model, finding out what modifications users have made on the source model.</LI><LI>SyncATL compares the original target model with the modified target model, finding out what modifications users have made on the target model.</LI><LI>SyncATL propagates the modifications on the source model to the target model according to the transformation program.</LI><LI>SyncATL propagates the modifications on the target model to the source model according to (conceptually) the inverse of the transformation program.</LI></OL><h3 id="keyAttribute">Key Attributes</h3><p>When comparing original models with modified models, one important question is how to know which model element in the modified model corresponds to a model element in the original model. For example, suppose an original model contains elements "A" and "B", and the modified model contains only an element "C". It is possible that C is modified from A and B is deleted or C is modified from B and A is deleted. It is also possible that A and B are both deleted and C is inserted. It is difficult to know exactly which modifications users have made.</p><p>To solve this problem, SyncATL assumes each class of model elements has a set of attributes, called key attributes, to uniquely identify a model element and not to be modified by users. When comparing models, SyncATL match model elements with the same key attributes and assumes they are of the same model element. All unmatched model elements in the original model are considered as deleted and all unmatched model elements in the target model are considered as inserted.</p><p>To annotate a key attributes, we add an "eAnnotations" to an "eStructuralFeatures" element. The "eAnnotations" must have a source of "http:///jp.ac.u_tokyo.ipl.BiXM.AttributeAnnotations" and with a detail "PrimaryAttribute=true", as shown by the following example:</p><p style="font-family: verdana; color: ;">&lt;eStructuralFeatures xsi:type="ecore:EAttribute" name="ID" eType="/0/Integer" iD="true"&gt;<br/>&lt;eAnnotations source="http:///jp.ac.u_tokyo.ipl.BiXM.AttributeAnnotations"&gt;<br/>&lt;details key="PrimaryAttribute" value="true"/&gt;<br/>&lt;/eAnnotations&gt;<br/>&lt;/eStructuralFeatures&gt;</p><p>The attribute "ID" is annotated as a key attribute. You can annotate multiple attributes in one classifier, and all of them uniquely identify a model element as a group.</p><p>To ease the process of adding key attribute to existing models and transformation programs, we provide a small tool "AddID.jar" to automatically add an "ID" key attribute to existing models. The usage of "AddID.jar" is as the following:</p><TABLE border="1"><TR><TD><span style="font-family: verdana; color: ;">java -jar AddID.jar --mm &lt;source meta model path&gt;&lt;target meta model path&gt;</span></TD><TD>Add an ID attribute to each class in the meta model</TD></TR><TR><TD><span style="font-family: verdana; color: ;">java -jar AddID.jar --m &lt;ID meta model path&gt;&lt;source model path&gt;&lt;target model path&gt;</span></TD><TD>Initialize the ID attribute in a model originally having no ID attribute</TD></TR><TR><TD><span style="font-family: verdana; color: ;">java -jar AddID.jar --atl &lt;source ATL program&gt;&lt;target ATL program&gt;</span></TD><TD>Convert an ATL program so that it also transforms the ID attribute</TD></TR></TABLE><h2 id="usage">Detailed Usage<br/></h2><p>The tool has two execution mode. One is used to invoke the original ATL model transformation, and the other mode is to synchronize models.</p><h3 id="transformation">Transformation Mode</h3><p>The command parameters are:</p><p><span style="font-family: verdana; color: ;">java -jar BiXM.jar --f --trans &lt;transformation program&gt;</span><br/><span style="font-family: verdana;">[--src &lt;id&gt;=&lt;model&gt;&lt;id&gt;=&lt;metamodel&gt;] </span><br/><span style="font-family: verdana;">[--tgt &lt;id&gt;=&lt;model&gt;&lt;id&gt;=&lt;metamodel&gt;]</span></p><p>--trans: specifying the path to the ATL byte-code program.<br/>
--src: specifying a source model. The &lt;id&gt; must be consistent with the names used in the ATL program. The &lt;model&gt; and &lt;metamodel&gt; are the paths to the model and the meta model, respectively. You can specifies multiple model by using the parameter multiple times.<br/>
--tgt: specifying a target model. The &lt;id&gt; must be consistent with the names used in the ATL program. The &lt;model&gt; and &lt;metamodel&gt; are the paths to the model and the meta model, respectively. You can specifies multiple model by using the parameter multiple times.<br/></p><p>The files "transform.bat" in sample directories are examples showing how to invoke this mode.<br/></p><h3 id="synchronization">Synchronization Mode</h3><p>Note synchronization only works with models having key attributes. Refer to <a href="#keyAttribute">key attributes</a> for more detail.</p><p>The command line parameters for synchronizing are:</p><p><span style="font-family: verdana; color: ;">java -jar BiXM.jar --s --trans &lt;transformation url&gt;<br/>[--src &lt;id&gt;=&lt;model&gt;&lt;id&gt;=&lt;metamodel&gt;]</span><br/><span style="font-family: verdana; color: ;">[--tgt &lt;id&gt;=&lt;model&gt;&lt;id&gt;=&lt;metamodel&gt;] <br/>[--modifiedSrc &lt;id&gt;=&lt;model&gt;] <br/>[--outSrc &lt;id&gt;=&lt;model&gt; ] <br/>[--outTgt &lt;id&gt;=&lt;model&gt; ] <br/>[--checkif] </span><br/></p><p>--s: indicating the tool should run in synchronization mode.<br/>
--trans: specifying the path to the ATL byte-code program.<br/>
--src: specifying a source model. The &lt;id&gt; must be consistent with the names used in the ATL program. The &lt;model&gt; and &lt;metamodel&gt; are the paths to the model and the meta model, respectively. You can specifies multiple model by using the parameter multiple times.<br/>
--tgt: as same as "--src" excepting it specifies a modified target model.<br/>
--modifiedSrc: specifying a URL to a modified source model. The &lt;id&gt; should be consistent with the &lt;id&gt; in "--src" and the model names used in the transformation program.<br/>
--outSrc: specifying a path where the synchronized source model will be stored. <br/>
--outTgt: specifying a path where the synchronized target model will be stored. <br/>
--checkif: when this parameter is present, the tool will check the violation of conditional expressions. See the companion paper for more details.</p><p>The files "synchronize.bat" in the sample directories are examples to invoke the tool in the synchronization mode.</p><h2 id="limitations">Limitations</h2><ul><li>Only supporting using EMF as the model handler</li><li>Only a small portion of the ATL standard library is supported<br/></li></ul><h2 id="otherlanguage">Support of Other Transformation Languages</h2><p>Our tool should be able to support programs in the QVT procedure language by using <a href="http://www.eclipse.org/m2m/atl/usecases/QVT2ATLVM/">the transformation</a> from QVT to ATL byte-code. However, we have not tested this out.</p><h2 id="contact">Contact</h2><p>Please contact us at <IMG SRC="pics/mail.gif"/></p><!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
//<![CDATA[
var sc_project=2899403; 
var sc_invisible=0; 
var sc_security="32b0faa8"; 
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter_xhtml.js'></"+"script>");
//]]>
</script>
<noscript><div class="statcounter"><a title="site stats"
href="http://statcounter.com/" class="statcounter"><img
class="statcounter"
src="http://c.statcounter.com/2899403/0/32b0faa8/0/"
alt="site stats" /></a></div></noscript>
<!-- End of StatCounter Code for Default Guide --></body></html>